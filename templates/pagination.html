<div class="pagination">
    {% if page > 1 %}
        <a class="prev" href="/view_dir?path={{ relative_path | urlencode }}&page={{ page - 1 }}">« </a>
    {% endif %}

    {% if total_pages > 1 %}
        {% for i in range(1, total_pages + 1) %}
            {% if i == page %}
                <a class="current" href="/view_dir?path={{ relative_path | urlencode }}&page={{ i }}">{{ i }}</a>
            {% else %}
                <a href="/view_dir?path={{ relative_path | urlencode }}&page={{ i }}">{{ i }}</a>
            {% endif %}
        {% endfor %}
    {% endif %}

    {% if page < total_pages %}
        <a class="next" href="/view_dir?path={{ relative_path | urlencode }}&page={{ page + 1 }}"> »</a>
    {% endif %}
</div>